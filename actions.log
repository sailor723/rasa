2022-06-28 11:11:44 INFO     rasa_sdk.endpoint  - Starting action endpoint server...
2022-06-28 11:11:46 INFO     rasa_sdk.executor  - Registered function for 'action_initial_protocol'.
2022-06-28 11:11:46 INFO     rasa_sdk.executor  - Registered function for 'action_Login'.
2022-06-28 11:11:46 INFO     rasa_sdk.executor  - Registered function for 'action_check_protocol'.
2022-06-28 11:11:46 INFO     rasa_sdk.executor  - Registered function for 'action_default_fallback'.
2022-06-28 11:11:46 INFO     rasa_sdk.executor  - Registered function for 'action_write_text'.
2022-06-28 11:11:46 INFO     rasa_sdk.executor  - Registered function for 'action_new_scope'.
2022-06-28 11:11:46 INFO     rasa_sdk.executor  - Registered function for 'action_ask_main'.
2022-06-28 11:11:46 INFO     rasa_sdk.executor  - Registered function for 'action_ask_sub'.
2022-06-28 11:11:46 INFO     rasa_sdk.executor  - Registered function for 'action_ask_csp_item'.
2022-06-28 11:11:46 INFO     rasa_sdk.executor  - Registered function for 'validate_simple_protocol_form'.
2022-06-28 11:11:46 INFO     rasa_sdk.endpoint  - Action endpoint is up and running on http://0.0.0.0:5055
2022-06-28 11:11:46 DEBUG    rasa_sdk.utils  - Using the default number of Sanic workers (1).
2022-06-28 11:23:36 DEBUG    rasa_sdk.executor  - Received request to run 'validate_simple_protocol_form'
2022-06-28 11:23:36 DEBUG    rasa_sdk.executor  - Finished running 'validate_simple_protocol_form'
2022-06-28 11:23:36 DEBUG    rasa_sdk.executor  - Received request to run 'validate_simple_protocol_form'
2022-06-28 11:23:36 DEBUG    rasa_sdk.executor  - Finished running 'validate_simple_protocol_form'
2022-06-28 11:23:36 DEBUG    rasa_sdk.executor  - Received request to run 'action_check_protocol'
2022-06-28 11:23:36 DEBUG    neo4j  - [#0000]  C: <RESOLVE> localhost:7687
2022-06-28 11:23:36 DEBUG    neo4j  - [#0000]  C: <OPEN> 127.0.0.1:7687
2022-06-28 11:23:36 DEBUG    neo4j  - [#CC66]  C: <MAGIC> 0x6060B017
2022-06-28 11:23:36 DEBUG    neo4j  - [#CC66]  C: <HANDSHAKE> 0x00020404 0x00000104 0x00000004 0x00000003
2022-06-28 11:23:36 DEBUG    neo4j  - [#CC66]  S: <HANDSHAKE> 0x00000404
2022-06-28 11:23:36 DEBUG    neo4j  - [#CC66]  C: HELLO {'user_agent': 'neo4j-python/4.4.0 Python/3.8.10-final-0 (linux)', 'scheme': 'basic', 'principal': 'neo4j', 'credentials': '*******'}
2022-06-28 11:23:36 DEBUG    neo4j  - [#CC66]  S: SUCCESS {'server': 'Neo4j/4.4.4', 'connection_id': 'bolt-3', 'hints': {}}
2022-06-28 11:23:36 DEBUG    neo4j  - [#CC66]  State: CONNECTED > READY
2022-06-28 11:23:36 DEBUG    neo4j  - [#CC66]  C: RUN '\n            match (index_node) <-[to_index*0..1] - (question_node) <-[to_questions*0..1] - (answer_node) <- [has_answer*0..1] -(csp_node) -[r*] ->(entity_node) -[*0..3] ->(entity_value)\n            where csp_node.label in ["入选标准", "排除标准","DL04"]  and  (( ToUpper(entity_node.name) in $node_sub )or (csp_node.name_item in $node_item))\n            return collect(distinct index_node) as index_nodes, csp_node, collect( distinct  entity_value) as entity_values\n            ORDER BY csp_node\n            ' {'node_sub': ['治疗洗脱期'], 'node_item': []} {}
2022-06-28 11:23:36 DEBUG    neo4j  - [#CC66]  C: PULL {'n': 1000}
2022-06-28 11:23:37 DEBUG    neo4j  - [#CC66]  S: SUCCESS {'t_first': 64, 'fields': ['index_nodes', 'csp_node', 'entity_values']}
2022-06-28 11:23:37 DEBUG    neo4j  - [#CC66]  State: READY > STREAMING
2022-06-28 11:23:37 DEBUG    neo4j  - [#CC66]  S: RECORD * 1
2022-06-28 11:23:37 DEBUG    neo4j  - [#CC66]  S: SUCCESS {'bookmark': 'FB:kcwQ8GPmNRgdSw+EH0vvhpffrsoAANGekA==', 'type': 'r', 't_last': 215, 'db': 'neo4j', 'notifications': [{'severity': 'WARNING', 'description': "Binding relationships to a list in a variable length pattern is deprecated. (Binding a variable length relationship pattern to a variable ('has_answer') is deprecated and will be unsupported in a future version. The recommended way is to bind the whole path to a variable, then extract the relationships:\n\tMATCH p = (...)-[...]-(...)\n\tWITH *, relationships(p) AS has_answer)", 'code': 'Neo.ClientNotification.Statement.FeatureDeprecationWarning', 'position': {'column': 94, 'offset': 106, 'line': 2}, 'title': 'This feature is deprecated and will be removed in future versions.'}, {'severity': 'WARNING', 'description': "Binding relationships to a list in a variable length pattern is deprecated. (Binding a variable length relationship pattern to a variable ('to_index') is deprecated and will be unsupported in a future version. The recommended way is to bind the whole path to a variable, then extract the relationships:\n\tMATCH p = (...)-[...]-(...)\n\tWITH *, relationships(p) AS to_index)", 'code': 'Neo.ClientNotification.Statement.FeatureDeprecationWarning', 'position': {'column': 20, 'offset': 32, 'line': 2}, 'title': 'This feature is deprecated and will be removed in future versions.'}, {'severity': 'WARNING', 'description': "Binding relationships to a list in a variable length pattern is deprecated. (Binding a variable length relationship pattern to a variable ('to_questions') is deprecated and will be unsupported in a future version. The recommended way is to bind the whole path to a variable, then extract the relationships:\n\tMATCH p = (...)-[...]-(...)\n\tWITH *, relationships(p) AS to_questions)", 'code': 'Neo.ClientNotification.Statement.FeatureDeprecationWarning', 'position': {'column': 56, 'offset': 68, 'line': 2}, 'title': 'This feature is deprecated and will be removed in future versions.'}, {'severity': 'WARNING', 'description': "Binding relationships to a list in a variable length pattern is deprecated. (Binding a variable length relationship pattern to a variable ('r') is deprecated and will be unsupported in a future version. The recommended way is to bind the whole path to a variable, then extract the relationships:\n\tMATCH p = (...)-[...]-(...)\n\tWITH *, relationships(p) AS r)", 'code': 'Neo.ClientNotification.Statement.FeatureDeprecationWarning', 'position': {'column': 127, 'offset': 139, 'line': 2}, 'title': 'This feature is deprecated and will be removed in future versions.'}]}
2022-06-28 11:23:37 DEBUG    neo4j  - [#CC66]  State: STREAMING > READY
2022-06-28 11:23:37 DEBUG    rasa_sdk.executor  - Finished running 'action_check_protocol'
DCTA_NEO4J_HOST: bolt://localhost
in validate main
main: 入选标准
in validate sub
治疗洗脱期
entities: [{'entity': 'sub', 'start': 0, 'end': 3, 'confidence_entity': 0.9967022538185121, 'value': '治疗洗脱期', 'extractor': 'DIETClassifier', 'processors': ['EntitySynonymMapper']}]
main---------： 入选标准
sub_list ---------： ['治疗洗脱期']
sub_ ---------： 治疗洗脱期
in validate sub
治疗洗脱期
entities: [{'entity': 'sub', 'start': 0, 'end': 3, 'confidence_entity': 0.9967022538185121, 'value': '治疗洗脱期', 'extractor': 'DIETClassifier', 'processors': ['EntitySynonymMapper']}]
main---------： 入选标准
sub_list ---------： ['治疗洗脱期']
sub_ ---------： 治疗洗脱期
I am in check_protocol------------------
sender_id 123465
index_list: ['6个月,辅助治疗,洗脱期', 'CCRT术,洗脱期', '治疗洗脱期,洗脱期,方案', '洗脱期,2周', '洗脱期,胸腔积液,穿刺', '两周,洗脱期,ICF,方案,胸腔积液', 'IV期,放疗,根治性治疗', '铂,局部晚期,6个月后,6个月,洗脱期,方案,免疫,全身治疗,姑息性全身治疗,铂类,一线治疗,3周', '一周,前一周,方案']
intent: inform_protocol
* sub_list is : ['治疗洗脱期']
item_number: None
after check and with table9, sub_list: ['治疗洗脱期']
ready to check Neo4j ----------------
sub_list: ['治疗洗脱期']
node_item_list: []
params: {'node_sub': ['治疗洗脱期'], 'node_item': []}
csp_item_list-------------------: ['入选标准第14条']
index_list: ['6个月,辅助治疗,洗脱期', 'CCRT术,洗脱期', '治疗洗脱期,洗脱期,方案', '洗脱期,2周', '洗脱期,胸腔积液,穿刺', '两周,洗脱期,ICF,方案,胸腔积液', 'IV期,放疗,根治性治疗', '铂,局部晚期,6个月后,6个月,洗脱期,方案,免疫,全身治疗,姑息性全身治疗,铂类,一线治疗,3周', '一周,前一周,方案']
index_list in action: ['6个月,辅助治疗,洗脱期', 'CCRT术,洗脱期', '治疗洗脱期,洗脱期,方案', '洗脱期,2周', '洗脱期,胸腔积液,穿刺', '两周,洗脱期,ICF,方案,胸腔积液', 'IV期,放疗,根治性治疗', '铂,局部晚期,6个月后,6个月,洗脱期,方案,免疫,全身治疗,姑息性全身治疗,铂类,一线治疗,3周', '一周,前一周,方案']
msg2: <b>此项下还有以下Q＆A Log中问题，请参照选择。您也可以输入其他问题。谢谢</b>
final_message: 试验方案第67页 
入选标准第14条 
随机化/入组前有足够的治疗洗脱期，定义为：	/DL04 V2治疗洗脱期 : 受试者类型和疾病特征
重大手术（由研究者确定） : 首次给药前或正在从既往手术中恢复≥4周。注：如果在研究干预首次给药前完成，允许进行局部手术。
放射治疗，包括胸部姑息性立体定向放射治疗 : ≥4周
其他解剖区域的姑息性立体定向放射治疗（CNS放疗除外，见排除标准4） : ≥2周
抗癌化疗[免疫治疗（非抗体疗法）]、类视黄醇疗法、激素疗法 : ≥3周
基于抗体的抗癌治疗 : ≥4周
靶向药物和小分子（如5-氟尿嘧啶类药物、亚叶酸类药物、每周给予紫杉醇） : ≥2周或5个半衰期，以较长者为准
亚硝基脲类或丝裂霉素C : ≥6周
批准用于NSCLC治疗的TKI : ≥1周
氯喹/羟氯喹 : ≥14天
胸腔积液、腹水或心包积液需要无细胞和CART，腹腔分流或引流治疗 : 筛选评估前≥2周
<b>此项下还有以下Q＆A Log中问题，请参照选择。您也可以输入其他问题。谢谢</b>
Exception ignored in: <function Driver.__del__ at 0x7f1f97aa8b80>
Traceback (most recent call last):
  File "/home/weiping/venv/lib/python3.8/site-packages/neo4j/__init__.py", line 281, in __del__
  File "/home/weiping/venv/lib/python3.8/site-packages/neo4j/__init__.py", line 311, in close
  File "/home/weiping/venv/lib/python3.8/site-packages/neo4j/io/__init__.py", line 797, in close
  File "/home/weiping/venv/lib/python3.8/site-packages/neo4j/io/__init__.py", line 786, in remove
  File "/home/weiping/venv/lib/python3.8/site-packages/neo4j/io/_bolt4.py", line 333, in close
AttributeError: 'NoneType' object has no attribute 'debug'
